<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<header th:replace="bbs/header"></header>
<div class="container" style="margin-top: 30px">
    <div class="row">
        <div class="col-xs-3">
            <ul class="nav nav-pills nav-stacked">
                <li role="presentation" class="active"><a th:href="@{/user/userInfo.action(id=${{#httpSession.getAttribute('userId')}})}">资料修改</a></li>
                <li role="presentation" ><a th:href="@{/user/mypost.action(id=${{#httpSession.getAttribute('userId')}})}">我的帖子</a></li>

                <!--                <li role="presentation" ><a th:href="@{/user/mypost.action(id=1)}">我的帖子</a></li>-->
                <li role="presentation" ><a th:href="@{/admin/getApplyRecord.action(id=${{#httpSession.getAttribute('userId')}})}">申请记录</a></li>

            </ul>
        </div>
<!--<p th:text="${userInfo.id}"></p>-->
        <div class="col-xs-9">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        个人信息修改
                    </h3>
                </div>
                <div class="panel-body">
                    <!--<%
                    ApplicationContext context = new ClassPathXmlApplicationContext("applicationContext.xml");
                    UserBiz userBiz = (UserBiz)context.getBean("userBiz");
                    User user = userBiz.getUserById((Integer)session.getAttribute("userId"));

                    %>-->
                   <!-- <form id="form1" th:action="@{/user/userInfo.action(id=${#httpSession.getAttribute('userId')})}"  method="post" enctype="multipart/form-data">-->
                    <form id="form1" action="/user/saveUpdate.action"  method="post" enctype="multipart/form-data">

                      <input hidden="hidden" name="id" th:value="${userInfo.id}">
                        <div class="form-group">
                            <img alt="点击上传" class="avatar left" height="70" th:src="${userInfo.photoUrl}" />
                            请上传你的头像<br/>

                        </div>
                        <input type="file" id="inputfile" accept="image/*" name="photoUrl"><br/>

                        <div class="form-group">
                            <label>用户名</label><br>
                            <input name="username" th:value="${userInfo.username}" placeholder="请输入名称">
                         <!--   <input id="name" type="text" class="form-control" name="username" id="name" width="200px" height="80px" value=""
                                   > <p class="help-block"></p>-->
                        </div>

                        <div class="form-group">
                            <label>性 别</label><br/>
                            <div th:if="${userInfo.sex}=='男'">
                            男<input type="radio" name="sex" value="男" checked="checked">
                            &nbsp &nbsp女<input type="radio" name="sex" value="女">
                            </div>
                            <div th:if="${userInfo.sex}=='女'">
                                男<input type="radio" name="sex" value="男" >
                                &nbsp &nbsp女<input type="radio" name="sex" value="女" checked="checked">
                            </div>
                        </div>

                        <dl class="form-group">
                            <dt><label>个性签名</label></dt>
                            <dd><input type="text" class="form-control" name="signature" size="30" th:value="${userInfo.signature}" />
                                <p class="help-block"></p>
                            </dd>
                        </dl>
                        <dl class="form-group">
                            <dt><label>邮箱</label></dt>
                            <dd><input  type="email" class="form-control" name="email" size="30" th:value="${userInfo.email}" />
                                <p class="help-block"></p>
                            </dd>
                        </dl>
                        <dl class="form-group">
                            <dt><label >密码</label></dt>
                            <dd><input class="form-control" th:value="${userInfo.password}" id="password" name="password" size="30" type="password" width="200px" /></dd>
                        </dl>
                        <dl class="form-group">
                            <dt><label >重复密码</label></dt>
                            <dd><input class="form-control" id="confirm_password" name="confirm_password" size="30" type="password" width="200px" /></dd>
                        </dl>
                        <input type="submit" value="提交">
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>
<!--<script type="text/javascript" src="js/jquery.validate.min.js"></script>-->
<!--
<script type="text/javascript">
    $(function(){
        $("#form1").validate({
            rules:{
                username:{
                    required:true
                },
                email:{
                    required:true,
                    email:true
                },
                password:{
                    rangelength:[6,20]
                },
                confirm_password:{
                    equalTo:"#password"
                }
            },
            messages:{
                username:{
                    required:"必填"
                },
                email:{
                    required:"必填",
                    email:"E-Mail格式不正确"
                },
                password:{
                    rangelength: $.validator.format("密码最小长度:{0}, 最大长度:{1}。")
                },
                confirm_password:{
                    equalTo:"两次密码输入不一致"
                }
            }
        });
    });
</script>
<style type="text/css">
    .error{
        color:red;
    }
</style>
</div>
</body>
</html>-->
